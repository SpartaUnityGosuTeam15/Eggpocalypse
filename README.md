<div align="center">

# <h1>🐲 Eggp🥚 calypse 🐉</h1>

</div>

---

## <h3>📌 프로젝트 개요</h3>

- **🏷 프로젝트명:** Eggpocalypse
- **🛠 개발 환경:** Unity, C#
- **🕰️ 개발 기간:** 2025.03.26 ~ 2025.04.02
- **👤 개발자:** 김상민, 김태환, 윤익준, 손효정, 박소희
- **🎮 장르:** 뱀서라이크(Vampire Survivors-like)

---

## <h3>🎮 게임 설명</h3>

- 로비에서 부화시킬 용을 선택한 뒤, 몰려오는 적들에게서 생존하세요.
- 시간이 끝날 때까지 생존하면 승리합니다.
- 적 처치 시 경험치를 얻어 **다양한 스킬을 획득 & 강화**할 수 있습니다.
- 골드를 모아 **영구적인 능력 강화**도 가능합니다.
- 시간이 흐를수록 적들이 강해지고, **보스 몬스터**도 등장합니다!

시간이 끝날 때까지 생존하면 승리합니다.

---

## <h3>🕹️ 플레이 방법</h3>

1. 🥚 **용 선택**
    - 로비에서 부화시킬 용을 선택하고 게임을 시작합니다.
2. 👊 **생존 & 디펜스**
    - 몰려오는 적들을 처치하며 곧 용이 될 알을 설치하고 보호하세요.
    - 알을 끝까지 업그레이드 하면 알에서 강력한 용이 부화합니다.
3. ⚔️ **스킬 획득 & 업그레이드**
    - 경험치를 모아 다양한 스킬을 습득하고 강화합니다.
4. 💰 **골드로 능력 영구 강화**
    - 획득한 골드를 통해 다음 플레이에 유리한 능력치를 강화하세요.

---

## <h3>👥 팀원 소개 및 역할 분담</h3>

| 이름 | 역할 | 상세 내용 |
| --- | --- | --- |
| **김상민** | 🎮 플레이어 / 플레이어 UI | 플레이어 조작, 씬 관리, 플레이어 UI 구성 |
| **김태환** | 🌀 스킬 시스템 | 스킬 구현, 쿨타임, 레벨업 로직 |
| **손효정** | 🐉 몬스터 스폰 | 시간 기반 몬스터 웨이브 설계 및 스폰 |
| **박소희** | 👹 몬스터 AI | 몬스터 애니메이션 및 피격 처리 |
| **윤익준** | 🥚 설치물 시스템 | 알 오브젝트 제어  |

---

## <h3>📽️ 시연 영상</h3>

> https://www.youtube.com/watch?v=AoSWIQcqGYE
> 

---

## <h3>🛠️ 트러블슈팅</h3>

1. 알 재생성
    
    알이 제거되고 다른 알을 생성했을 때 업그레이드 버튼이 동작하지 않던 문제가 있었습니다.
    
    ![image](https://github.com/user-attachments/assets/483cbe46-fd75-41f6-9673-02a63fc8d802)

    
    새로운 알을 생성해도 기존의 알을 리스트에서 삭제하지 않아 삭제된 기존의 알을 참조하고 있어 클릭 시 동작을 하지 않았습니다.
    
    - 해결
        
        알이 죽어서 삭제하기 전 리스트에서 먼저 삭제하는 코드를 추가하여 해결하였습니다.
        
    
    ![image 1](https://github.com/user-attachments/assets/97f667bf-4bb3-47b1-a9de-e7174764a90a)

    
2. 스킬 설계
    
    초기에 레퍼런스 게임(뱀파이어 서바이버)처럼 스탯에 관련한 패시브 스킬과 직접 공격하는 액티브 스킬을 상위 클래스로 상속받아 보여주도록 설계하였습니다.
    
    Active class에 실제로 스킬의 구현이 포함되어 있어 MonoBehaviour를 상속받지만 Passive class 경우는 필요하지 않았습니다.
    
    - 해결
        
        상위클래스를 인터페이스로 변경하여 Active class만 MonoBehaviour를 상속받도록 변경하여 해결하였습니다.
        
3. 몬스터 공격 상태 전환 
    
    초기엔 몬스터에서 플레이어와의 거리 계산을 sqrMagnitude로 체크했습니다.
    
    ![image 2](https://github.com/user-attachments/assets/163d3de7-1e2a-4749-a99d-0dcf243c9d66)

    
    NavMeshAgent를 사용했기 때문에  remainingDistance와  stoppingDistance를 고려해야 했습니다.
    
    - 해결
        
        NavMeshAgent.remainingDistance와 stoppingDistance를 활용해 공격 범위 판별 로직을 수정하여 해결하였습니다.
        
    
    ![image 3](https://github.com/user-attachments/assets/15fdba8b-cf60-4660-a368-e97a85b28026)

    
4. 몬스터 탐지 최적화
    
    뱀파이어 서바이버 라이크 장르의 가장 큰 문제점인 오브젝트, 몬스터가 매우 많이 생성된다는 점을 해결하기 위해 몬스터 탐지 로직 최적화가 필요했습니다. 
    
    Unity Profiler를 이용해 5000마리의 몬스터를 생성하여 테스트를 진행 하였습니다.
    

    ![61ff874d-0843-4d02-8d50-d452bf922abb](https://github.com/user-attachments/assets/9ba3892a-529b-4fa2-a51c-ca349d54b628)


- 결과
    
    
    ![image 4](https://github.com/user-attachments/assets/76602449-75fe-42be-b9f2-5446e5db9e0e)

    
    ![image 5](https://github.com/user-attachments/assets/ff295eb8-1623-4c06-b7d7-460296ba0410)

    
    프로젝트에 맞는 로직을 직접 찾아보는 것이 중요하다는 것을 알 수 있었습니다.
